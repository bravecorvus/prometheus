<!--Andrew Lee 2016-->
<html>

    <head>
        <link rel="shortcut icon" href="favicon.png" type="image/png"/>
        <script src="/js/jquery-3.1.1.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.js"></script>
        <script type="text/javascript" src="nixie/nixie.js"></script>
        <script type="text/javascript" src="https://unpkg.com/vue@2.1.10/dist/vue.js"></script>
        <link rel="stylesheet" type="text/css" href="/css/styles.css">
    </head>

    <body>



        <div id="app"> <!--Vue.js-->

            <nav v-bind:class="active" v-on:click.prevent style="position: fixed !important; left: 50% !important; margin-top:140px !important; transform: translate(-50%, -50%) !important;">
                <a href="#" class="home" id="home" v-on:click="makeActive('home')">Home</a>
                <a href="#" class="settings" id="settings" v-on:click="makeActive('settings')">Settings</a>
                <a href="#" class="about" id="about" v-on:click="makeActive('about')">About</a>
            </nav>

            <div id="pagetitle">
                <p id="atomicclock">Prometheus Clock</p>
                <br>
                <br>
                <br>
                <br>
                <form id="snoozeform" action="/snooze" method="post" ><input id="snooze" type="submit" name="snooze" value="Snooze"></input></form>
                <div id="nd1" onClick="document.getElementById('snoozeform').submit();"></div>
            </div>

            <br>
            <br>
            <br>

            <div id="homecontent" v-if="active=='home'">
            <div id="main" >

                <div id="leftside">
                    <div v-for="(alarm, index) in alarmsleft" :id="alarm.name">
                        <input v-model="alarmsleft[index].time" class="time" type="time"></input>
                        <button @click="submittimeleft(index)">Submit Time</button>

                        <br>
                        <br>

                        <label class="switch">
                        <input :value="alarmsleft[index].sound" v-if="alarmsleft[index].sound=='on'" @click="submitsoundleft(index)" type="checkbox" /checked>
                        <input :value="alarmsleft[index].sound" v-else @click="submitsoundleft(index)" type="checkbox">
                        <div class="slider round"></div>
                        </label>
                        </form>
                        <label>Sound</label>

                        <br>
                        <br>

                        <label class="switch">
                        <input :value="alarmsleft[index].vibration" v-if="alarmsleft[index].vibration=='on'" @click="submitvibrationleft(index)" type="checkbox" /checked>
                        <input :value="alarmsleft[index].vibration" v-else @click="submitvibrationleft(index)" type="checkbox">
                        <div class="slider round"></div>
                        </label>
                        </form>
                        <label>Vibration</label>

                        <br>
                        <br>
                        <br>

                    </div> <!--alarm.name-->

                </div><!--leftside-->

                <div id="rightside"> 
                    <div v-for="(alarm, index) in alarmsright" :id="alarm.name">
                        <input v-model="alarmsright[index].time" class="time" type="time"></input>
                        <button @click="submittimeright(index)">Submit Time</button>

                        <br>
                        <br>

                        <label class="switch">
                        <input :value="alarmsright[index].sound" v-if="alarmsright[index].sound=='on'" @click="submitsoundright(index)" type="checkbox" /checked>
                        <input :value="alarmsright[index].sound" v-else @click="submitsoundright(index)" type="checkbox">
                        <div class="slider round"></div>
                        </label>
                        </form>
                        <label>Sound</label>

                        <br>
                        <br>

                        <label class="switch">
                        <input :value="alarmsright[index].vibration" v-if="alarmsright[index].vibration=='on'" @click="submitvibrationright(index)" type="checkbox" /checked>
                        <input :value="alarmsright[index].vibration" v-else @click="submitvibrationright(index)" type="checkbox">
                        <div class="slider round"></div>
                        </label>
                        </form>
                        <label>Vibration</label>

                        <br>
                        <br>
                        <br>

                    </div><!--alarm.name-->

                </div><!--rightside-->

            </div><!--homecontent-->
            </div><!--main-->

            <div v-else-if="active=='settings'" id="settingscontent">

            <!--colorpicker-->
            <script src="colorpicker/jquery.colorpicker.js"></script>
            <link href="colorpicker/jquery.colorpicker.css" rel="stylesheet" type="text/css"/>
            <script src="colorpicker/i18n/jquery.ui.colorpicker-nl.js"></script>
            <script src="colorpicker/parts/jquery.ui.colorpicker-rgbslider.js"></script>
            <script src="colorpicker/parts/jquery.ui.colorpicker-memory.js"></script>

            <script>
			$(function() {
				$('#tabs').tabs();
			});
            </script>
            <!--colorpicker-->

            <div id="afterclock">

                <div id="afterclockleft">
                    <br>
                    <br>
                    <form enctype="multipart/form-data">

                        <div class="row">
                            <div class="column-small-12 padd0 align-center">
                                <div id="drop-box">
                                    <h3><em>Change Alarm Audio</em></h3>
                                    <br>
                                    <br>
                                </div><!--drop-box-->
                            </div><!--column-small-12-->
                            <div class="column-small-12 padd0">
                                <input type="file" name="file" id="file" />
                            </div><!--column-small-12...-->
                        </div><!--row-->

                    </form>
                    <br>
                    <p>Current Track: {{this.trackinfo}}</p>
                </div><!--afterclockleft-->

                <div id="afterclockright">
                    <br>
                    <h3><em>Enable IP Change Email Notifications</em></h3>
                    <br>
                    <br>

                    <label class="switch">
                        <input :value="enableemail" v-if="enableemail==true" @click="submitenableemail()" type="checkbox" /checked>
                        <input :value="enableemail" v-else @click="submitenableemail()" type="checkbox">
                        <div class="slider round"></div>
                    </label>


                        <div v-if="enableemail==true" style="float: right; margin-left: 10px;">
                            <button @click="submitemail()" style="float: right;">Submit New Email</button>
                            <input v-model="email" class="text" type="text" style="float: right;"></input>
                        </div><!--v-if-->


                    <div v-else>
                        <br>
                    </div><!--v-else-->

                    <br>
                    <br>
                    <br>
                    <h3><em>Use Custom Sound Card</em></h3>
                    <label class="switch">
                        <input :value="customsoundcard" v-if="customsoundcard==true" @click="submitcustomsoundcard()" type="checkbox" /checked>
                        <input :value="customsoundcard" v-else @click="submitcustomsoundcard()" type="checkbox">
                        <div class="slider round"></div>
                    </label>



                </div> <!--id="afterclockright"-->


                <div id="preview">
                <span id="colorpicker-preview" style="display: inline-block; vertical-align: top;"><div class="ui-colorpicker ui-colorpicker-inline ui-dialog ui-widget ui-widget-content ui-corner-all"><div class="ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix"><span class="ui-dialog-title">Pick a color</span>
                </div>
                <table cellspacing="0" cellpadding="0" border="0" class="ui-dialog-content ui-widget-content">
                    <tbody>
                        <tr>
                            <td class="ui-colorpicker-map-container" rowspan="5" valign="top">
                                <div class="ui-colorpicker-map ui-colorpicker-map-256 ui-colorpicker-border" taonex="0" style="background-color: rgb(0, 49, 255);"><span class="ui-colorpicker-map-layer-1" style="background-position: 0px 0px;">&nbsp;</span><span class="ui-colorpicker-map-layer-2" style="display: none;">&nbsp;</span><span class="ui-colorpicker-map-layer-alpha" style="opacity: 0;">&nbsp;</span><span class="ui-colorpicker-map-layer-pointer"><span class="ui-colorpicker-map-pointer" style="left: 227px; top: 26.5312px;"></span></span>
                                </div>
                            </td>
                            <td class="ui-colorpicker-bar-container ui-colorpicker-padding-left" rowspan="5" valign="top">
                                <div class="ui-colorpicker-bar ui-colorpicker-bar-256  ui-colorpicker-border" taonex="0"><span class="ui-colorpicker-bar-layer-1" style="background-position: 0px 0px;">&nbsp;</span><span class="ui-colorpicker-bar-layer-2" style="display: none;">&nbsp;</span><span class="ui-colorpicker-bar-layer-3" style="display: none;">&nbsp;</span><span class="ui-colorpicker-bar-layer-4" style="display: none;">&nbsp;</span><span class="ui-colorpicker-bar-layer-alpha" style="opacity: 0;">&nbsp;</span><span class="ui-colorpicker-bar-layer-alphabar" style="display: none;">&nbsp;</span><span class="ui-colorpicker-bar-layer-pointer"><span class="ui-colorpicker-bar-pointer" style="top: 90.5312px;"></span></span>
                                </div>
                            </td>
                            <td class="ui-colorpicker-preview-container ui-colorpicker-padding-left" valign="top">
                                <div class="ui-colorpicker-preview ui-colorpicker-border">
                                    <div class="ui-colorpicker-preview-initial" title="#00ff00" style="background-color: rgb(0, 255, 0);">
                                        <div class="ui-colorpicker-preview-initial-alpha" style="opacity: 0;"></div>
                                    </div>
                                    <div class="ui-colorpicker-preview-current" title="#133ade" style="background-color: rgb(19, 58, 222);">
                                        <div class="ui-colorpicker-preview-current-alpha" style="opacity: 0;"></div>
                                    </div>
                                </div>
                            </td>
                            <td colspan="1"></td>
                            <td class="ui-colorpicker-swatches-container ui-colorpicker-padding-left" rowspan="5" valign="top">
                                <div class="ui-colorpicker-swatches ui-colorpicker-border" style="width:84px">
                                    <div class="ui-colorpicker-swatch" style="background-color:#000000" title="black"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#696969" title="dimgray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#808080" title="gray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#a9a9a9" title="darkgray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#c0c0c0" title="silver"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#d3d3d3" title="lightgrey"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#dcdcdc" title="gainsboro"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f5f5f5" title="whitesmoke"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffffff" title="white"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#bc8f8f" title="rosybrown"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#cd5c5c" title="indianred"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#a52a2a" title="brown"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#b22222" title="firebrick"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f08080" title="lightcoral"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#800000" title="maroon"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#8b0000" title="darkred"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff0000" title="red"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fffafa" title="snow"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fa8072" title="salmon"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffe4e1" title="mistyrose"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff6347" title="tomato"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#e9967a" title="darksalmon"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff4500" title="orangered"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff7f50" title="coral"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffa07a" title="lightsalmon"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#a0522d" title="sienna"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fff5ee" title="seashell"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#d2691e" title="chocolate"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#8b4513" title="saddlebrown"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f4a460" title="sandybrown"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffdab9" title="peachpuff"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#cd853f" title="peru"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#faf0e6" title="linen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff8c00" title="darkorange"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffe4c4" title="bisque"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#deb887" title="burlywood"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#d2b48c" title="tan"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#faebd7" title="antiquewhite"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffdead" title="navajowhite"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffebcd" title="blanchedalmond"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffefd5" title="papayawhip"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffa500" title="orange"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffe4b5" title="moccasin"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f5deb3" title="wheat"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fdf5e6" title="oldlace"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fffaf0" title="floralwhite"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#daa520" title="goldenrod"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#b8860b" title="darkgoldenrod"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fff8dc" title="cornsilk"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffd700" title="gold"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#eee8aa" title="palegoldenrod"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f0e68c" title="khaki"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fffacd" title="lemonchiffon"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#bdb76b" title="darkkhaki"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f5f5dc" title="beige"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fafad2" title="lightgoldenrodyellow"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#808000" title="olive"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffff00" title="yellow"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffffe0" title="lightyellow"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fffff0" title="ivory"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#6b8e23" title="olivedrab"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#9acd32" title="yellowgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#556b2f" title="darkolivegreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#adff2f" title="greenyellow"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#7cfc00" title="lawngreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#7fff00" title="chartreuse"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#8fbc8f" title="darkseagreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#228b22" title="forestgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#32cd32" title="limegreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#90ee90" title="lightgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#98fb98" title="palegreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#006400" title="darkgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#008000" title="green"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00ff00" title="lime"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f0fff0" title="honeydew"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#3cb371" title="mediumseagreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#2e8b57" title="seagreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00ff7f" title="springgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f5fffa" title="mintcream"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00fa9a" title="mediumspringgreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#66cdaa" title="mediumaquamarine"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#7fffd4" title="aquamarine"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#40e0d0" title="turquoise"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#20b2aa" title="lightseagreen"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#48d1cc" title="mediumturquoise"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#2f4f4f" title="darkslategray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#afeeee" title="paleturquoise"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#008080" title="teal"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#008b8b" title="darkcyan"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00ced1" title="darkturquoise"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00ffff" title="aqua"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00ffff" title="cyan"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#e0ffff" title="lightcyan"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f0ffff" title="azure"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#5f9ea0" title="cadetblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#b0e0e6" title="powderblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#add8e6" title="lightblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00bfff" title="deepskyblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#87ceeb" title="skyblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#87cefa" title="lightskyblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#4682b4" title="steelblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f0f8ff" title="aliceblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#1e90ff" title="dodgerblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#708090" title="slategray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#778899" title="lightslategray"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#b0c4de" title="lightsteelblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#6495ed" title="cornflowerblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#4169e1" title="royalblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#191970" title="midnightblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#e6e6fa" title="lavender"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#000080" title="navy"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#00008b" title="darkblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#0000cd" title="mediumblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#0000ff" title="blue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#f8f8ff" title="ghostwhite"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#483d8b" title="darkslateblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#6a5acd" title="slateblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#7b68ee" title="mediumslateblue"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#9370db" title="mediumpurple"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#8a2be2" title="blueviolet"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#4b0082" title="indigo"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#9932cc" title="darkorchid"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#9400d3" title="darkviolet"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ba55d3" title="mediumorchid"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#d8bfd8" title="thistle"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#dda0dd" title="plum"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ee82ee" title="violet"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#800080" title="purple"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#8b008b" title="darkmagenta"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff00ff" title="magenta"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff00ff" title="fuchsia"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#da70d6" title="orchid"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#c71585" title="mediumvioletred"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff1493" title="deeppink"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ff69b4" title="hotpink"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#db7093" title="palevioletred"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#fff0f5" title="lavenderblush"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#dc143c" title="crimson"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffc0cb" title="pink"></div>
                                    <div class="ui-colorpicker-swatch" style="background-color:#ffb6c1" title="lightpink"></div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="ui-colorpicker-hsv-container ui-colorpicker-padding-left ui-colorpicker-padding-top" valign="top">
                                <div class="ui-colorpicker-hsv">
                                    <div class="ui-colorpicker-hsv-h">
                                        <input class="ui-colorpicker-mode" type="radio" value="h">
                                        <label>H</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="360" size="10"><span class="ui-colorpicker-unit">°</span>
                                    </div>
                                    <div class="ui-colorpicker-hsv-s">
                                        <input class="ui-colorpicker-mode" type="radio" value="s">
                                        <label>S</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                    <div class="ui-colorpicker-hsv-v">
                                        <input class="ui-colorpicker-mode" type="radio" value="v">
                                        <label>V</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100" size="10"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                </div>
                            </td>
                            <td class="ui-colorpicker-lab-container ui-colorpicker-padding-left ui-colorpicker-padding-top" valign="top">
                                <div class="ui-colorpicker-lab">
                                    <div class="ui-colorpicker-lab-l">
                                        <label>L</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100">
                                    </div>
                                    <div class="ui-colorpicker-lab-a">
                                        <label>a</label>
                                        <input class="ui-colorpicker-number" type="number" min="-128" max="127">
                                    </div>
                                    <div class="ui-colorpicker-lab-b">
                                        <label>b</label>
                                        <input class="ui-colorpicker-number" type="number" min="-128" max="127">
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="ui-colorpicker-rgb-container ui-colorpicker-padding-left ui-colorpicker-padding-top" valign="top">
                                <div class="ui-colorpicker-rgb">
                                    <div class="ui-colorpicker-rgb-r">
                                        <input class="ui-colorpicker-mode" type="radio" value="r">
                                        <label>R</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="255">
                                    </div>
                                    <div class="ui-colorpicker-rgb-g">
                                        <input class="ui-colorpicker-mode" type="radio" value="g">
                                        <label>G</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="255">
                                    </div>
                                    <div class="ui-colorpicker-rgb-b">
                                        <input class="ui-colorpicker-mode" type="radio" value="b">
                                        <label>B</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="255">
                                    </div>
                                </div>
                            </td>
                            <td class="ui-colorpicker-cmyk-container ui-colorpicker-padding-left ui-colorpicker-padding-top" rowspan="2" valign="top">
                                <div class="ui-colorpicker-cmyk">
                                    <div class="ui-colorpicker-cmyk-c">
                                        <label>C</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                    <div class="ui-colorpicker-cmyk-m">
                                        <label>M</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                    <div class="ui-colorpicker-cmyk-y">
                                        <label>Y</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                    <div class="ui-colorpicker-cmyk-k">
                                        <label>K</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="ui-colorpicker-alpha-container ui-colorpicker-padding-left ui-colorpicker-padding-top" valign="top">
                                <div class="ui-colorpicker-alpha">
                                    <div class="ui-colorpicker-a">
                                        <input class="ui-colorpicker-mode" name="mode" type="radio" value="a">
                                        <label>A</label>
                                        <input class="ui-colorpicker-number" type="number" min="0" max="100"><span class="ui-colorpicker-unit">%</span>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="ui-colorpicker-hex-container ui-colorpicker-padding-left ui-colorpicker-padding-top" valign="top">
                                <div class="ui-colorpicker-hex">
                                    <label>#</label>
                                    <input class="ui-colorpicker-hex-alpha" type="text" maxlength="2" size="2">
                                    <input class="ui-colorpicker-hex-input" type="text" maxlength="6" size="6">
                                </div>
                            </td>
                            <td colspan="1"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="ui-dialog-buttonpane ui-widget-content">
                    <div class="ui-colorpicker-buttonset ui-buttonset" />
                </div>
                </div>
                </span>
            </div><!--preview-->

            <!--colorpicker-->
			<script>
				$(function() {
					$('#colorpicker-preview').colorpicker({
						parts: 'full',
						alpha: true
					});
				});
			</script>

            <script>
                $(function() {
                    function tabsToSpaces(line, tabsize) {
                        var out		= '',
                            tabsize = tabsize || 4,
                            c;
                        for (c in line) {
                            var ch = line.charAt(c);
                            if (ch === '\t') {
                                do {
                                    out += ' ';
                                } while (out.length % tabsize);
                            } else {
                                out += ch;
                            }
                        }
                        return out;
                    }

                    function visualizeElement(element, type) {
                        var code		= $(element).html().split('\n'),
                            tabsize		= 4,
                            minlength	= 2E53,
                            l;

                        // Convert tabs to spaces
                        for (l in code) {
                            code[l] = tabsToSpaces(code[l], tabsize);
                        }


                        // determine minimum length
                        var minlength = 2E53;
                        var first = 2E53;
                        var last = 0;
                        for (l in code) {
                            if (/\S/.test(code[l])) {
                                minlength = Math.min(minlength, /^\s*/.exec(code[l])[0].length);
                                first = Math.min(first, l);
                                last = Math.max(last, l);
                            }
                        }

                        code = code.slice(first, last + 1);

                        // strip tabs at start
                        for (l in code) {
                            code[l] = code[l].slice(minlength);
                        }

                        // recombine
                        code = code.join('\n');

                        var fragment = $('<pre class="prettyprint"><code/></pre>').text(code).insertAfter(element);
                        $('<h3 class="clickable">'+type+'&hellip;</h3>').insertBefore(fragment).click(function() {
                            fragment.slideToggle();
                        });
                    }

                    // extract html fragments
                    $('div.prettyprint, span.prettyprint').each(function() {
                        visualizeElement(this, 'HTML');
                    });

                    // extract scripts
                    $('script.prettyprint').each(function() {
                        visualizeElement(this, 'Javascript');
                    });

                    // Include the readme
                    var markdown = new Markdown.Converter();
                    $.get('README.md', function(readme) {
                        $('#readme').html(markdown.makeHtml(readme));
                        $('#readme h1').each(function() {
                            $(this).nextUntil('h1').wrapAll('<div class="chapter"/>');
                        });
                        $('#readme pre').addClass('prettyprint');
                        prettyPrint();

                        // build menu
                        var menuitems = [];
                        $('h1').each(function() {
                            var text	= $(this).text(),
                                id		= $(this).attr('id') || 'chapter '+text;
                            $(this).attr('id', id);
                            menuitems.push('<a href="#'+id+'">'+text+'</a>');
                        });
                        $(menu).html(menuitems.join(' &mdash; '));
                    }, 'html');
                });
            </script>
            <!--colorpicker-->

            </div><!--afterclock-->

        </div><!--settingscontent-->

        <div v-else-if="active=='about'" id="aboutcontent">
            <!-- <img src=""> -->
        </div><!--aboutcontent-->

        </div><!--app-->

        <script>
            var vm = new Vue({
                el: '#app',
                data: {
                    alarmsleft: [],
                    alarmsright: [],
                    trackinfo: [],
                    email: [],
                    enableemail: [],
                    customsoundcard: [],
                    active: 'home',
                },

                methods: {

                    makeActive: function(item){
                        var elem = document.getElementById(this.active);
                        elem.setAttribute("style","color: #969696 !important; text-decoration: none");
                        this.active = item;
                        var elem = document.getElementById(this.active);
                        elem.setAttribute("style","color: #ffffff !important; text-decoration: underline");
                    },

                    submittimeright(arg) {
                        $.ajax(
                            {
                                url: "/time",
                                type: 'post',
                                data: {
                                    name: this.alarmsright[arg].name,
                                    value: this.alarmsright[arg].time 
                                }
                            }
                        );
                    },

                    submittimeleft(arg) {
                        $.ajax(
                            {
                                url: "/time",
                                type: 'post',
                                data: {
                                    name: this.alarmsleft[arg].name,
                                    value: this.alarmsleft[arg].time 
                                }
                            }
                        );
                    },

                    submitsoundright(arg) {
                        if (this.alarmsright[arg].sound == 'on') {
                            this.alarmsright[arg].sound = 'off';
                        } else {
                            this.alarmsright[arg].sound = 'on';
                        }
                        $.ajax(
                            {
                                url: "/sound",
                                type: 'post',
                                data: {
                                    name: this.alarmsright[arg].name,
                                    value: this.alarmsright[arg].sound 
                                }
                            }
                        );
                    },

                    submitsoundleft(arg) {
                        if (this.alarmsleft[arg].sound == 'on') {
                            this.alarmsleft[arg].sound = 'off';
                        } else {
                            this.alarmsleft[arg].sound = 'on';
                        }
                        $.ajax(
                            {
                                url: "/sound",
                                type: 'post',
                                data: {
                                    name: this.alarmsleft[arg].name,
                                    value: this.alarmsleft[arg].sound 
                                }
                            }
                        );
                    },

                    submitvibrationright(arg) {
                        if (this.alarmsright[arg].vibration == 'on') {
                            this.alarmsright[arg].vibration = 'off';
                        } else {
                            this.alarmsright[arg].vibration = 'on';
                        }
                        $.ajax(
                            {
                                url: "/vibration",
                                type: 'post',
                                data: {
                                    name: this.alarmsright[arg].name,
                                    value: this.alarmsright[arg].vibration 
                                }
                            }
                        );
                    },

                    submitvibrationleft(arg) {
                        if (this.alarmsleft[arg].vibration == 'on') {
                            this.alarmsleft[arg].vibration = 'off';
                        } else {
                            this.alarmsleft[arg].vibration = 'on';
                        }
                        $.ajax(
                            {
                                url: "/vibration",
                                type: 'post',
                                data: {
                                    name: this.alarmsleft[arg].name,
                                    value: this.alarmsleft[arg].vibration 
                                }
                            }
                        );
                    },

                    submitenableemail() {
                        if (this.enableemail == true) {
                            this.enableemail = false;
                        } else {
                            this.enableemail = true;
                        }
                        $.ajax(
                            {
                                url: "/enableemail",
                                type: 'post',
                                data: {
                                    value: this.enableemail,
                                }
                            }
                        );
                    },

                    submitcustomsoundcard() {
                        if (this.customsoundcard == true) {
                            this.customsoundcard = false;
                        } else {
                            this.customsoundcard = true;
                        }
                        $.ajax(
                            {
                                url: "/customsoundcard",
                                type: 'post',
                                data: {
                                    value: this.customsoundcard,
                                }
                            }
                        );
                    },

                    submitemail() {
                        $.ajax(
                            {
                                url: "/newemail",
                                type: 'post',
                                data: {
                                    value: this.email, 
                                }
                            }
                        );
                    },
                },

                created() {

                    var elem = document.getElementById(this.active);
                    elem.setAttribute("style","color: #ffffff !important; text-decoration: underline");

                    $.ajaxSetup({ cache: false });

                    $.getJSON('../json/alarms.json')
                        .done(data => {
                            this.alarmsleft = data.slice(0, 2);
                            this.alarmsright = data.slice(2);
                        });

                        $.get('../json/email')
                            .done( data => {
                            this.email = String(data).replace(/\n/g, '');
                    });

                    $.get('../json/enableemail')
                        .done( data => {
                            if (data.replace(/\n/g, '') == "true") {
                                this.enableemail = true;
                            } else {
                                this.enableemail = false;
                            }
                    });

                    $.get('../json/trackinfo')
                        .done( data => {
                            this.trackinfo = String(data).replace(/\n/g, '');
                    });

                    $.get('../json/customsoundcard')
                        .done( data => {
                            if (data.replace(/\n/g, '') == "true") {
                                this.customsoundcard = true;
                            } else {
                                this.customsoundcard = false;
                            }
                    });

                }
            })


                var nd = new NixieClock();
                nd.id = 'nd1';
                nd.urlCharsetImage = 'nixie/zm1080_l2_09bdm_90x150_8b.png';
                nd.charWidth = 90;
                nd.charHeight = 150;
                nd.extraGapsWidths[1] = 12;
                nd.extraGapsWidths[3] = 12;
                nd.charGapWidth = 10;
                document.getElementById(nd.id).parentNode.style.background = "black";
                document.getElementById(nd.id).parentNode.style.border = "2px solid #AAAAAA";
                nd.init();
                nd.run();
                nd.setText('-1.234567890');

                $(function(){

                    $("#drop-box").click(function(){
                        $("#file").click();
                    });

                    $(document).on('drop dragover', function (e) {
                        e.preventDefault();
                    }); 

                    $('input[type=file]').on('change', fileUpload);

                    function fileUpload(event){  

                        $("#drop-box").html("<p>"+event.target.value+" uploading...</p>");
                        files = event.target.files;
                        var data = new FormData();
                        var error = 0;
                        for (var i = 0; i < files.length; i++) {
                            var file = files[i];
                            console.log(file.size);
                            if (!file.type.match('audio.*')) {
                                $("#drop-box").html("<p> Audio only. Select another file</p>");
                                error = 1;
                            } else {
                                data.append('audio', file, file.name);
                            }
                        }

                        if(!error){
                            var xhr = new XMLHttpRequest();
                            xhr.open("POST", "/upload", true);
                            xhr.send(data);
                            xhr.onload = function () {
                            if (xhr.status === 200) {
                                $("#afterclock").html("\
                                <div id='afterclockleft'>\
                                    <form enctype='multipart/form-data'>\
                                        <div class='row'>\
                                            <div class='column-small-12 padd0 align-center'>\
                                                <div id='drop-box'>\
                                                    <p>Select Files</p>\
                                                </div>\
                                            </div>\
                                            <div class='column-small-12 padd0'>\
                                                <input type='file' name='file' id='file' />\
                                            </div>\
                                        </div>\
                                    </form>\
                                </div>\
                                <br>\
                                <p>File Uploaded. Select more files</p>");
                            } else {
                                $("#afterclock").html("<p> Error in upload, try again.</p>");
                            }
                        };
                    }
                }

                });
            </script>

        </body>
    </html>
